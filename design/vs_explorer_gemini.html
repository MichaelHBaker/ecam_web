<!DOCTYPE html>
<html>
<head>
  <title>File Explorer</title>
  <style>
    /* ... (CSS from previous response) */

    /* Menu styling */
    #menu {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    #menu button {
      padding: 5px 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
    }

    /* Highlight selected row */
    .selected {
      background-color: #e0e0e0; /* Light gray background for selected item */
    }
  </style>
</head>
<body>

  <div id="menu">
    <button id="addFolder">Add Folder</button>
    <button id="addFile">Add File</button>
    <button id="delete">Delete</button>
  </div>

  <ul id="file-explorer">
    <li class="folder">
      <span class="folder-icon"></span> Workspace
      <ul>
        <li class="folder">
          <span class="folder-icon"></span> ecam_web
          <ul>
            <li><span class="file">asgi.py</span></li>
            <li><span class="file">settings.py</span></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <script>
    const folderIcons = document.querySelectorAll('.folder-icon');
    const fileExplorer = document.getElementById('file-explorer');
    const addFolderBtn = document.getElementById('addFolder');
    const addFileBtn = document.getElementById('addFile');
    const deleteBtn = document.getElementById('delete');

    // Folder open/close functionality
    folderIcons.forEach(icon => {
      icon.addEventListener('click', () => {
        icon.classList.toggle('open');
        icon.parentElement.classList.toggle('open');
      });
    });

    // Highlight selected row
    fileExplorer.addEventListener('click', (event) => {
      const selectedItem = event.target.closest('li'); 

      // Remove selection from previously selected item
      const currentlySelected = fileExplorer.querySelector('.selected');
      if (currentlySelected) {
        currentlySelected.classList.remove('selected');
      }

      // Add selection to the clicked item
      if (selectedItem) {
        selectedItem.classList.add('selected');
      }
    });

    // Menu button actions (placeholder for now)
    addFolderBtn.addEventListener('click', () => {
      // Add folder logic here (relative to selected item)
      console.log('Add Folder clicked');
    });

    addFileBtn.addEventListener('click', () => {
      // Add file logic here (relative to selected item)
      console.log('Add File clicked');
    });

    deleteBtn.addEventListener('click', () => {
      // Delete logic here (relative to selected item)
      console.log('Delete clicked');
    });
  </script>
</body>
</html>